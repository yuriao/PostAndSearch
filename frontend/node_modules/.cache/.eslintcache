[{"D:\\laioffer_project\\Circle-main\\Circle-main\\Circle\\frontend\\src\\index.js":"1","D:\\laioffer_project\\Circle-main\\Circle-main\\Circle\\frontend\\src\\components\\App.js":"2","D:\\laioffer_project\\Circle-main\\Circle-main\\Circle\\frontend\\src\\constants.js":"3","D:\\laioffer_project\\Circle-main\\Circle-main\\Circle\\frontend\\src\\components\\TopBar.js":"4","D:\\laioffer_project\\Circle-main\\Circle-main\\Circle\\frontend\\src\\components\\Main.js":"5","D:\\laioffer_project\\Circle-main\\Circle-main\\Circle\\frontend\\src\\components\\Login.js":"6","D:\\laioffer_project\\Circle-main\\Circle-main\\Circle\\frontend\\src\\components\\Home.js":"7","D:\\laioffer_project\\Circle-main\\Circle-main\\Circle\\frontend\\src\\components\\Register.js":"8","D:\\laioffer_project\\Circle-main\\Circle-main\\Circle\\frontend\\src\\components\\SearchBar.js":"9","D:\\laioffer_project\\Circle-main\\Circle-main\\Circle\\frontend\\src\\components\\CreatePostButton.js":"10","D:\\laioffer_project\\Circle-main\\Circle-main\\Circle\\frontend\\src\\components\\PhotoGallery.js":"11","D:\\laioffer_project\\Circle-main\\Circle-main\\Circle\\frontend\\src\\components\\PostForm.js":"12"},{"size":308,"mtime":1641956059000,"results":"13","hashOfConfig":"14"},{"size":755,"mtime":1641956059000,"results":"15","hashOfConfig":"14"},{"size":211,"mtime":1651908667114,"results":"16","hashOfConfig":"14"},{"size":551,"mtime":1641956059000,"results":"17","hashOfConfig":"14"},{"size":827,"mtime":1641956059000,"results":"18","hashOfConfig":"14"},{"size":1980,"mtime":1641956059000,"results":"19","hashOfConfig":"14"},{"size":3403,"mtime":1641956059000,"results":"20","hashOfConfig":"14"},{"size":2853,"mtime":1641956059000,"results":"21","hashOfConfig":"14"},{"size":1411,"mtime":1641956059000,"results":"22","hashOfConfig":"14"},{"size":2858,"mtime":1653118455342,"results":"23","hashOfConfig":"14"},{"size":1332,"mtime":1641956059000,"results":"24","hashOfConfig":"14"},{"size":1453,"mtime":1641956059000,"results":"25","hashOfConfig":"14"},{"filePath":"26","messages":"27","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},"1wzkusl",{"filePath":"29","messages":"30","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},{"filePath":"31","messages":"32","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},{"filePath":"33","messages":"34","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},{"filePath":"35","messages":"36","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"37","usedDeprecatedRules":"28"},{"filePath":"38","messages":"39","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},{"filePath":"40","messages":"41","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"42","usedDeprecatedRules":"28"},{"filePath":"43","messages":"44","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},{"filePath":"45","messages":"46","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},{"filePath":"47","messages":"48","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"49","messages":"50","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},{"filePath":"51","messages":"52","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},"D:\\laioffer_project\\Circle-main\\Circle-main\\Circle\\frontend\\src\\index.js",[],["53","54"],"D:\\laioffer_project\\Circle-main\\Circle-main\\Circle\\frontend\\src\\components\\App.js",[],"D:\\laioffer_project\\Circle-main\\Circle-main\\Circle\\frontend\\src\\constants.js",[],"D:\\laioffer_project\\Circle-main\\Circle-main\\Circle\\frontend\\src\\components\\TopBar.js",[],"D:\\laioffer_project\\Circle-main\\Circle-main\\Circle\\frontend\\src\\components\\Main.js",["55"],"import React, { useState } from \"react\";\nimport { Route, Switch, Redirect } from \"react-router\";\n\nimport Login from \"./Login\";\nimport Register from \"./Register\";\nimport Home from \"./Home\";\n\nfunction Main(props) {\n  const { isLoggedIn, handleLoggedIn } = props;\n\n  const showLogin = () => {\n    return isLoggedIn ? (\n      <Redirect to=\"/home\" />\n    ) : (\n      <Login handleLoggedIn={handleLoggedIn} />\n    );\n  };\n\n  const showHome = () => {\n    return isLoggedIn ? <Home /> : <Redirect to=\"/login\" />;\n  };\n  return (\n    <div className=\"main\">\n      <Switch>\n        <Route path=\"/\" exact render={showLogin} />\n        <Route path=\"/login\" render={showLogin} />\n        <Route path=\"/register\" component={Register} />\n        <Route path=\"/home\" render={showHome} />\n      </Switch>\n    </div>\n  );\n}\n\nexport default Main;\n","D:\\laioffer_project\\Circle-main\\Circle-main\\Circle\\frontend\\src\\components\\Login.js",[],"D:\\laioffer_project\\Circle-main\\Circle-main\\Circle\\frontend\\src\\components\\Home.js",["56","57","58"],"import React, { useState, useEffect } from \"react\";\nimport { Tabs, message, Row, Col, Button } from \"antd\";\nimport axios from \"axios\";\n\nimport SearchBar from \"./SearchBar\";\nimport PhotoGallery from \"./PhotoGallery\";\nimport CreatePostButton from \"./CreatePostButton\";\nimport { SEARCH_KEY, BASE_URL, TOKEN_KEY } from \"../constants\";\n\nconst { TabPane } = Tabs;\n\nfunction Home(props) {\n  const [posts, setPost] = useState([]);\n  const [activeTab, setActiveTab] = useState(\"image\");\n  const [searchOption, setSearchOption] = useState({\n    type: SEARCH_KEY.all,\n    keyword: \"\"\n  });\n\n  const handleSearch = (option) => {\n    const { type, keyword } = option;\n    setSearchOption({ type: type, keyword: keyword });\n  };\n\n  useEffect(() => {\n    const { type, keyword } = searchOption;\n    fetchPost(searchOption);\n  }, [searchOption]);\n\n  const fetchPost = (option) => {\n    const { type, keyword } = option;\n    let url = \"\";\n\n    if (type === SEARCH_KEY.all) {\n      url = `${BASE_URL}/search`;\n    } else if (type === SEARCH_KEY.user) {\n      url = `${BASE_URL}/search?user=${keyword}`;\n    } else {\n      url = `${BASE_URL}/search?keywords=${keyword}`;\n    }\n\n    const opt = {\n      method: \"GET\",\n      url: url,\n      headers: {\n        Authorization: `Bearer ${localStorage.getItem(TOKEN_KEY)}`\n      }\n    };\n\n    axios(opt)\n      .then((res) => {\n        if (res.status === 200) {\n          setPost(res.data);\n        }\n      })\n      .catch((err) => {\n        message.error(\"Fetch posts failed!\");\n        console.log(\"fetch posts failed: \", err.message);\n      });\n  };\n\n  const renderPosts = (type) => {\n    if (!posts || posts.length === 0) {\n      return <div>No data!</div>;\n    }\n    if (type === \"image\") {\n      const imageArr = posts\n        .filter((item) => item.type === \"image\")\n        .map((image) => {\n          return {\n            src: image.url,\n            user: image.user,\n            caption: image.message,\n            thumbnail: image.url,\n            thumbnailWidth: 300,\n            thumbnailHeight: 200\n          };\n        });\n\n      return <PhotoGallery images={imageArr} />;\n    } else if (type === \"video\") {\n      return (\n        <Row gutter={32}>\n          {posts\n            .filter((post) => post.type === \"video\")\n            .map((post) => (\n              <Col span={8} key={post.url}>\n                <video src={post.url} controls={true} className=\"video-block\" />\n                <p>\n                  {post.user}: {post.message}\n                </p>\n              </Col>\n            ))}\n        </Row>\n      );\n    }\n  };\n\n  const showPost = (type) => {\n    console.log(\"type -> \", type);\n    setActiveTab(type);\n\n    setTimeout(() => {\n      setSearchOption({ type: SEARCH_KEY.all, keyword: \"\" });\n    }, 3000);\n  };\n\n  const operations = <CreatePostButton onShowPost={showPost} />;\n  return (\n    <div className=\"home\">\n      <SearchBar handleSearch={handleSearch} />\n      <div className=\"display\">\n        <Tabs\n          onChange={(key) => setActiveTab(key)}\n          defaultActiveKey=\"image\"\n          activeKey={activeTab}\n          tabBarExtraContent={operations}\n        >\n          <TabPane tab=\"Images\" key=\"image\">\n            {renderPosts(\"image\")}\n          </TabPane>\n          <TabPane tab=\"Videos\" key=\"video\">\n            {renderPosts(\"video\")}\n          </TabPane>\n        </Tabs>\n      </div>\n    </div>\n  );\n}\n\nexport default Home;\n","D:\\laioffer_project\\Circle-main\\Circle-main\\Circle\\frontend\\src\\components\\Register.js",[],"D:\\laioffer_project\\Circle-main\\Circle-main\\Circle\\frontend\\src\\components\\SearchBar.js",[],"D:\\laioffer_project\\Circle-main\\Circle-main\\Circle\\frontend\\src\\components\\CreatePostButton.js",["59"],"D:\\laioffer_project\\Circle-main\\Circle-main\\Circle\\frontend\\src\\components\\PhotoGallery.js",[],"D:\\laioffer_project\\Circle-main\\Circle-main\\Circle\\frontend\\src\\components\\PostForm.js",[],{"ruleId":"60","replacedBy":"61"},{"ruleId":"62","replacedBy":"63"},{"ruleId":"64","severity":1,"message":"65","line":1,"column":17,"nodeType":"66","messageId":"67","endLine":1,"endColumn":25},{"ruleId":"64","severity":1,"message":"68","line":2,"column":35,"nodeType":"66","messageId":"67","endLine":2,"endColumn":41},{"ruleId":"64","severity":1,"message":"69","line":26,"column":13,"nodeType":"66","messageId":"67","endLine":26,"endColumn":17},{"ruleId":"64","severity":1,"message":"70","line":26,"column":19,"nodeType":"66","messageId":"67","endLine":26,"endColumn":26},{"ruleId":"64","severity":1,"message":"71","line":1,"column":28,"nodeType":"66","messageId":"67","endLine":1,"endColumn":37},"no-native-reassign",["72"],"no-negated-in-lhs",["73"],"no-unused-vars","'useState' is defined but never used.","Identifier","unusedVar","'Button' is defined but never used.","'type' is assigned a value but never used.","'keyword' is assigned a value but never used.","'createRef' is defined but never used.","no-global-assign","no-unsafe-negation"]